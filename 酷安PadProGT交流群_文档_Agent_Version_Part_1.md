# 酷安Pad Pro GT交流群 文档

本文档是群聊“酷安Pad Pro GT交流群”的技术文档的第一部分。

文档适用于TB710FU，也就是“联想小新Pad Pro GT”或者“Lenovo Xiaoxin Pad Pro GT”。

## 0、 我啥都不会/我纯小白，**有没有大佬手把手带一下？**

这些文字针对的是**符合标题中加粗字体特征**的读者。

这五六百字不是让你学会刷机，而是将你从刷机这条道上劝退的。

能一步步带你是情分，不这么带你是本分。

我猜你可能还会问“有没有视频教程？”“有偿找大佬帮刷！”“有点害怕，不敢刷，等大佬赐教”等问题。

你都来搞刷机了，有些重技术的东西还是自己研究研究吧。

至于视频教程等东西，目前没有计划推出。文本教程已经

如果你对计算机操作方面的内容不确定，请访问[你缺计课](https://www.criwits.top/missing/)进行学习。

好了，就这样。带上你的脑子和双手，开始看接下来的内容吧。

## 1、 提问的智慧

提问很简单：说明白自己遇到的问题。也就是描述清楚以下三个要素：我先前干了什么？我现在碰到的症状是怎样的？我希望达成什么目标？

实在描述不清楚的话，（可能）会有群U出来为你提供“交互式指引”的，但是最好不要这么做。

一些机械和高高在上的内容（这些文件会在知识库中收录）已经放到群文件“#提问的智慧”文件夹了，想找骂去看就行，那是一篇从外文翻译而来的文章。



## 2、 完整的刷写可解锁设备的流程是怎样的？

只是一个大体的流程。

首先，为了刷写一个未经厂商验证（也就是用私钥签名）的镜像，你需要解锁。

1. 打开系统的开发者设置，找到OEM解锁，打开它；

2. 在电脑上用解锁工具或者`fastboot命令行`解锁你的设备；

3. 解锁后，系统会自动格式化`/data`分区，你需要提前做好备份。

解锁完毕后，一般会先刷Root，我们讨论 `KernelSU GKI`。

首先，在`KernelSU Releases`找到符合你设备的内核镜像（这些内容请参阅[KernelSU官网](https://kernelsu.org/zh_CN/)，对于Pro GT，详细的Root办法见后文），下载到一个容易找到的目录。

然后，去搜索下载adb工具，网页标题应为[Android Developers](https://developer.android.google.cn/tools/releases/platform-tools?hl=zh-cn)。将下载下来的压缩包解压，应当能看到若干个文件，将这些文件复制到`C:\Windows\System32` 和`C:\Windows\SysWOW64`。现在就完成了电脑端的准备。

手机端打开USB调试，方便后续操作。现在用USB连接手机和电脑，电脑端打开命令提示符。

在弹出的命令提示符窗口中输入`adb reboot bootloader`，命令手机重启到bootloader界面。手机端会弹出USB调试的授权窗口，选择“允许”，电脑就能向手机发送adb命令，让手机成功重启到bootloader。

现在输入命令` fastboot flash boot <文件所在路径>\<文件名>.img`

例如我下载了一个名为`boot.img`的GKI镜像，放置在D盘根目录，那我应该输入`fastboot flash boot D:\boot.img`

完成之后输入`fastboot reboot`，手机自动重启到Android操作系统。

在系统内安装`KernelSU`管理器，就能管理哪些应用可以获取Root权限，并刷写你喜欢的模块了。

**讲完这个流程，我们最需要记住的内容是：**

**1、解锁是为了刷写未经认证的镜像；**

**2、获取root的过程就是刷入一个经过第三方修改，可以和操作系统内应用程序交互的镜像；**

3. **解锁bootloader或者想办法获得官方的签名，都能让修改过的镜像在设备上工作。**

以上内容涉及了Pro GT实现Root的部分理论基础，在附录中我们会详细讨论。

现在，如果你有钱有闲，最好先买一台便宜的能解锁的手机试试看吧，推荐系统底层为Android 7及以上。



<a name="part3"></a>

## 3、 一些前置知识和术语

1. 9008模式指的是高通设备的应急下载模式（EDL, Emergency DownLoad mode），可以通过特定物理按键或者物理按键组合进入，也可以通过工程线，或者在部分设备上使用`adb reboot edl`这条USB调试命令进入。
   进入9008模式后，设备向安装了驱动程序并和它连接的计算机提供一个高速“串口”（实际上能达到USB3标准，也可能更快，取决于设备端口和线材配置），可以通过这个端口从设备的内置存储器中读写几乎任何内容。
   和早期PC的BIOS类似，9008模式只包含最基本的初始化代码，而不包含对存储器等组件的初始化和通信协议。因此，在使用9008模式的强大功能之前，**必须**先从电脑（通过“Sahara”协议）发送一个小文件，告诉处于9008模式的设备应当怎样和闪存通信、怎样建立后续的高速连接，等等。如果在发送此文件前进行了操作，请强制重启设备，并重新进入9008模式。
   上一段中的文件被俗称为“引导文件”，正式的名称是`Firehose`，通常的扩展名是`.melf`，群文件夹“神秘引导文件”中的`xbl\_s\_devprg\_ns.melf`就是一个这样的“引导文件”。

2. 如果刷机过程中出现了意外，设备可能会重启到900E模式。此模式意为“设备出现了严重故障”。
   此模式被工厂内部测试时用来捕捉内存转储文件，一般用户难以使用。此外，9008刷机的文件传输功能在这个模式下不可用。要退出此模式，需要设法令设备在重启时进入9008模式，通常推荐工程线。
   请注意：进入900E不代表着设备“没救了”，只要你有本事让它进入9008，一切都会好起来的。

3. 回读是英文名词ReadBack的中文直译，意为从等待刷机的设备存储中读取某个或某些文件，传输并存储到运行刷机软件的设备中。这个词的定义有点像平时常说的“备份”。

4. 槽位是英文名词“Slot”的翻译，在Android设备中指的是A和B两个相对独立的，类似于互为备份分区的存在。系统更新会安装到当前未被使用的槽位，如果更新失败，Android会自动回滚到之前使用的槽位。对于较新式的设备，采用了比AB分区（存在真实的两个系统槽位）更先进的VAB分区以节省存储固件所占用的空间，这类设备通常不具备独立的system分区。

5. 经常接触的分区名称：
   `init_boot`: 存储有Ramdisk的分区，LKM模式需要修补的分区名称
   `boot`: 存储有Linux内核的分区，GKI模式需要替换的分区名称
   `vbmeta`: 存储链式验证分区信息的分区，LKM模式需要替换的分区名称
   `super`：动态分区设备的特性，将`system`, `vendor_a`,` vendor_b`, `product_a`, `product_b`几个分区封装在其中，可以随着系统更新方便的调整大小
   `system`: 顾名思义，存放Android操作系统的分区
   `vendor`: 存放厂商驱动程序等内容的分区
   `product`: 类似于`vendor`，但更多用于封装非底层软件

6. 相对不常接触的分区名称：
   `vendor_boot`: 用于存储厂商实现某些功能的特定接口
   `abl`: Android Bootloader的存放位置
   `userdata`: 用户数据分区
   `metadata`: 解密用户数据分区所需密钥的存储位置，想保住数据**救砖**不要刷入其他包中的这个文件
   *如果你对Android的分区感兴趣，可以试试[这个站点](https://wiki.uotan.net/index.php?title=Android_%E5%88%86%E5%8C%BA%E8%AF%A6%E8%A7%A3)提供的文章*

7. *~~LKM: “可加载内核模块”的英文简称，通过在`init_boot`分区注入一个Hook来实现Root，优点是方便更新，且不破坏原有内核的功能实现，在存在内核级调度调优的设备上特别有用。~~*

8. GKI: “通用内核映像”的英文简称，KernelSU最初阶段支持的Root实现方式，优点是泛用性好，系统更新后不需要做特别的修改便可以直接刷入使用。
   可以将GKI理解为一个镜像绑定一个设备（比如Pro GT，不管内存版本多少，都可以使用一个镜像）和一个KernelSU版本（比如为KernelSU 1.0.4编译的镜像不能被用于KernelSU 2.0.0）
   因此不管系统版本多少、是否是第三方系统，只要内核版本和你安装的KernelSU版本不变，可以始终使用同一个镜像。
   *2025.11：KernelSU 2.x.x致力于推进安全性改进，群内的已签名镜像会跟上官方更新节奏。*

9. ADB: “Android Debug Bridge”的英文简称，用于实现和授权了USB调试的Android操作系统或TWRP Recovery的交互。比如adb reboot edl，重启到9008模式。

10. AVB2.0: Android系统对可信启动功能的实现，有点像PC上的Secure Boot。此功能按照vbmeta中的信息验证其他分区是否被篡改，并读取含有AVB Hash Footer的分区所包含的摘要信息，以防止设备运行未经授权的内容。

11. Fastboot: 

12. 安卓系统的引导加载程序，现在也常常直接称为BootLoader，管理后续启动流程的签名验证，并实现从设备底层引导跳转到启动Linux内核这一流程的各个操作步骤。在未解锁BootLoader的情况下，BootLoader禁止刷写系统分区，如果强行通过其他手段刷入，将触发AVB2.0检测，系统会拒绝启动。可以使用音量键浏览BootLoader下提供的选项，按电源键确认选项。

> BootLoader中可用的选项：
> 
> *START* --> 启动到操作系统
> 
> *Power Off* --> 关机
> 
> *Boot to Recovery* --> 启动到Recovery
> 
> *Boot to FFBM* --> 启动到工厂测试模式
> 
> *Restart Bootloader* --> 重启BootLoader
> 
> *Boot to Alternate Slot* --> 少见，启动到另一个槽位，救砖有用

12. Fastbootd:
    用于实现对`super`分区内容的操作，需要解锁BootLoader才能刷写。
    可以使用音量键浏览Fastbootd下提供的选项，按电源键确认选项。

> FastbootD中可用的选项：
> 
> *Reboot system now* --> 重启到系统
> 
> *Enter Recovery* --> 进入Recovery模式
> 
> *Reboot to bootloader* --> 重启到BootLoader
> 
> *Power off* -->关机



13. Recovery:
    Android系统的恢复模式，类似于Windows系统的WinRE，或Linux系统的LiveCD。它提供了基础的存储访问功能，能够访问和修改设备中除了底层固件分区以外的多数分区，并和电脑通信，读取和发送文件。
    可以使用音量键浏览Recovery下提供的选项，按电源键确认选项。

> Recovery中可用的选项：
> 
> *Reboot to system now* --> 重启到系统
> 
> *Reboot to bootloader* --> 重启到BootLoader
> 
> *Enter fastboot* --> 进入FastbootD
> 
> *Apply update from ADB* --> 从ADB接受更新（adb sideload），需要**拥有官方签名**的卡刷固件
> 
> *Apply update from SD card* --> 从SD卡安装更新（卡刷）
> 
> *Apply update from U disk* --> 从U盘安装更新（卡刷）
> 
> *Wipe data/factory reset* --> 恢复出厂设置（常用）
> 
> *Mount /system* --> 挂载/system为可读写
> 
> *View recovery logs* --> 查看Recovery运行日志
> 
> *Run graphics test* --> 运行图形测试
> 
> *Run locate test* --> 未知，也是工厂测试模式
> 
> *Power off* --> 关机

14. 第一屏：指的是含有Android Logo和厂商Logo的页面，卡在这一步说明内核等文件有问题

15. 第二屏：指的是显示各大自定义ROM Logo的页面，比如“ZUXOS”，卡在这一步说明系统配置有问

题，或者刷入了不兼容的模块



<a name="part4"></a>

## 4、 刷机工具教程——高通工具箱

其他教程使用的刷机软件已切换到“匣”。这部分教程已弃用。
如果你使用“匣”时遇到了无法解决的问题，或者需要命令行工具，可以试试本工具。
这个教程不提供工具箱附带命令行工具的指导。

1. 主界面的各个按键说明：
   存储类型：不需要动，Pro GT的存储类型识别暂无问题案例
   发送引导：进入9008后要做的第一件事！点击按钮后，选择从群文件下载的`xbl_s_devprg_ns.melf`并确认即可，不需要操作旁边的下拉菜单
   端口：有时需手动指定端口，请关注设备管理器，旁边的两个方框无需勾选
   xml批量刷入：刷写第三方系统/备份镜像/救砖包时使用
   刷入单个分区：刷写Root时更常用
   刷入分区表/写QCN/FastbootEnhance：暂无用途
   xml批量回读：利用已有的xml回读生成备份文件，没啥用
   回读单个分区：Root时备份原分区文件时使用
   回读分区表/读QCN：暂无用途
   回读全分区并生成gpt和xml：生成备份包用
   擦除单个分区：正常情况不需要使用，可以利用它清除`frp`分区，从而解除谷歌锁
   恢复出厂：我们选择点开下拉菜单后看到的`common1`，它会让设备重启到Recovery模式，并让用户手动完成擦除`/data`的过程
   重启功能：“到9008”一项似乎无法正确工作
   其他：均为顾名思义的内容，其中“切换槽位”一项似乎无法正常工作

2. 如果你坚持使用此工具，建议先回读分区表，本工具的刷入分区功能需要你手动输入分区名。
   
   

<a name="part5"></a>

## 5、 刷机工具教程——匣

这是我们目前使用的主流工具，UI/UX更加友好，且为解除谷歌锁等功能提供了一键式入口。

1. 解压缩后得到文件，其中`GeekFlashTool.exe`是刷机匣的主程序，双击点开它。

2. 刷机匣的主页长这样：

> 以下是该界面的主要内容转述：
> 
> **1. 软件信息**
> 
> * **名称**: 刷机匣
> * **开发者**: 由“闲游此生 & 某贼”共同开发。
> * **版本号**: 0.4.2.913 (位于左下角)。
> * **版权声明**: 界面上有多处水印文字“刷机匣-永久免费-禁止倒卖-禁止用于非法用途”。
> 
> **2. 界面布局**
> 
> * **左侧导航栏**: 包含多个功能模块：
>   * 首页
>   * QC/高通 (下有“深度刷机”子项)
>   * MTK/联发科 (下有“深度刷机”子项)
>   * 设置
>   * 捐赠
>   * 关于
> * **右侧主操作区**: 分为几个部分。
>   * **通用功能**: 这是一个功能按钮区域，包含六个按钮：
>     * 设备管理器
>     * 任务管理器
>     * 安装LibUSB
>     * 安装刷机驱动 (被红色箭头“1”指向)
>     * 修复USB3连接问题
>     * 清理隐藏设备
>   * **检查更新**: 提供了一个链接，用于检查软件更新，并注明了密码为 `bmwx`。
>   * **交流反馈**: 提供了一个链接，用于点击进入云湖群。
>   * **网址导航**: 这是一个资源链接列表，提供了多个与刷机相关的网站和工具：
>     * 萤火虫资源站
>     * 小米手机代号查询
>     * 小米官方包下载
>     * 大侠阿木一加刷机资源
>     * 柚坛社区
>     * 柚坛刷机Wiki
>     * 在线自动移植TWRP
>     * 在线签名展讯Boot
>     * 闲游此生的酷安主页
>     * 闲游此生的QQ群
> 
> **3. 图片中的标注**
> 
> * 图片上有两个红色的数字箭头标注：
>   * **1**: 指向“通用功能”区域中的“安装刷机驱动”按钮。
>   * **2**: 指向左侧导航栏中“QC/高通”模块下的“深度刷机”选项。

   如果第一次使用本软件，先点击箭头1所示按键安装驱动，装完驱动记得重启电脑。
   驱动安装完毕后点击箭头2所示按键，就能进入9008刷机页面。
   我们不需要联发科LibUSB驱动，但鉴于不安装它的话匣会在每次启动时弹窗提示，故还是安装上比较好。如果你希望使用USB3但发现存在问题，可以试试箭头1指向的按键右侧的“修复USB3”连接问题。
   下面简单介绍9008刷机模式的页面：



> 以下是对这个页面的转述：
> 
> “刷机匣”软件在点击左侧导航栏“QC/高通”下的“深度刷机”选项后所展示的详细操作界面。该界面主要分为设备配置、分区选择和操作执行三个区域。
> 
> 以下是根据序号标记的内容转述：
> 
> **1. 顶部设备与引导配置区**
> 
> * **①**: 这是一个标题栏，显示当前操作为“选择设备/引导/配置”。旁边会实时显示已选择的设备信息，例如“[通用]-[AUTO]-[NONE]”，以及端口模式（自动或指定）。“选择设备/引导/配置”这个按钮的展开菜单中，加粗的“引导文件”一项是这个页面中我们唯一需要的部分。在这里选定引导文件后，点击右下角的蓝色“确定”键。就可以应用它；
> 
> **2. 镜像文件加载方式**
> 
> * **②**: 提供了两种加载刷机镜像的方式：
>   * **使用XML**: 选中此单选按钮，表示将通过一个XML配置文件来定义刷机流程。
>   * **选择XML**: 点击此按钮可以浏览并选择一个XML文件。
>   * **选择镜像目录**: 点击此按钮可以选择一个包含所有镜像文件的文件夹。
>   * 用途：用来刷入备份的全分区镜像、刷入第三方ROM、或者刷入救砖包，选择“使用XML”后点击“选择XML”加载正确的`rawprogram.xml`和`patch.xml`，软件一般会自动读取应当刷入哪些分区，并查找到合适的文件。**但是仍请检查一次软件选定的文件是否正确！
>   * 注意：如果将镜像文件和XML放在不同的目录，在加载XML后**必须**使用“选择镜像目录”按钮手动指定一个镜像目录，软件会依据XML文件从指定的目录中查找适当的镜像。
> 
> **3. 分区表获取方式**
> 
> * **③**: 提供了三种获取设备分区表的方式：
>   * **使用设备分区表**: 从已连接的设备上读取分区表。
>   * **读取设备分区表**: 点击此按钮可手动从设备读取。
>   * **使用自定义地址**: 使用用户自行输入的分区表地址。
>   * 右侧还有“添加”和“删除”按钮，用于管理分区表条目。
> 
> **4. 分区选择控制**
> 
> * **④**: 这是分区选择的控制区域。
>   * 显示当前已选中的分区数量：“已选择: 0”。
>   * 提供“全选”复选框，用于一键选中所有分区。
>   * 提供“用户数据分区”和“分区表”复选框，用于单独选择特定类型的分区，用户数据分区对应的是userdata(数据分区)和metadata(密钥分区)，通常不备份用户数据分区。
> 
> **5. 分区列表表头**
> 
> * **⑤**: 这是一个表格的表头，用于显示和管理设备的所有分区。表格列包括：LUN、#、标签、起始扇区、大小、文件。用户可以在上方的“搜索分区”框中输入名称进行筛选，此外，上面所有提及的元素都可以被点击，以便根据这个column排序各个分区。
> 
> **6. 基础操作按钮组**
> 
> * **⑥**: 这是一个被红色方框圈出的核心操作区域，包含了几个关键功能按钮：
>   
>   * **读信息**: 读取设备的基本信息。
>   * **刷入**: 执行刷机操作，将选定的镜像写入设备分区。
>   * **回读**: 将设备上的分区数据读取到电脑上。右侧还有“生成XML”和“通用化”复选框，选择“生成XML”会生成若干个指导高通9008刷机工具工作的XML文件，方便跨软件跨平台使用；“通用化”复选框会移除回读的文件中的序列号等信息，但是在本文档提及的机型上不适用；
>   * **擦除**: 擦除设备上的数据。
>   * 此区域下方还有两个带下拉箭头的按钮：
>     * **恢复出厂设置**: 点击后可展开更多恢复选项，展开后会提供不同厂商的特定方案，我们只使用其中的“通用”方案
>     * **重启**: 点击后可展开更多重启选项，允许重启到操作系统、BootLoader、FastbootD、9008以及Recovery模式
> 
> * **⑨**: 标题为“更多功能”，点击后可展开更多高级选项：
>   
>   * **槽位功能**: 用于管理Android系统的A/B槽位，注意：这个菜单在刷机完成（包括刷写和解除Root、刷入第三方ROM、刷回官方ROM等）后必定使用一次，使用的是“重设当前槽位”按钮。
>   * **OEM解锁开关(非解锁BL)**: 用于开启或关闭OEM解锁功能（注意，这不等同于解锁Bootloader）。
> 
> **8. 工作区**
> 
> * **⑩**: 工作区：显示分区表的区域。
> * 说明：当手动选择某个文件后，工作区左侧的√应当自动亮起，表示点击“刷入”按键会刷写这个文件。 如果选择文件后点击“回读”，回读的信息会覆盖原有文件！ 通过点击分区名称左侧的复选框，可以选中某个分区，具体的意思是： 
> * 点击复选框选中分区       **并**    选择文件       =    按下“刷写”后用指定文件刷写分区或回读到这个文件
> * 复选框未亮起√                **并**    选择文件       =    不对当前分区做任何操作
> * 复选框亮起√                    **并**   不选择文件    =    不写入分区，点击回读后要求选定回读文件存储位置   



<a name="part6"></a>

## 6、 进行任何刷机操作之前我应当怎么做？

**如果碰到任何不确定的内容，请参考上面对于刷机工具“匣”的使用教程**

装驱动、备份、保证电量充足。安装驱动建议直接使用匣完成，保证电量充足我没法教你，所以这里只讨论备份。

备份分为两个部分：设备底层分区，以及用户数据。我们讨论底层备份。

备份设备底层分区
使用9008模式可以读取设备几乎全部的分区，用于备份底层分区再合适不过。这里我们选择图形界面更加友好的匣作为备份工具。接下来是详细步骤：
<a name="打开usb调试"></a>
在平板上打开USB调试：打开设置->关于平板电脑，连续点击右侧页面中的“软件版本”直到系统提示“您已处于开发者模式”。转到“通用设置”，滑动找到“开发者选项”，在“开发者选项”中找到“USB调试”开关，打开，弹出的“是否允许USB调试”对话框请选择确认。
<a name="安装adb"></a>
PC端准备：在群文件夹“搞机工具”下载`platform-tools-latest-windows.zip`，`匣(0.4.2.0913-B).zip`，它们分别是ADB工具包和9008刷机工具。此外，还需要下载群文件夹“神秘引导文件”中的`xbl\_s\_devprg\_ns.melf`。下载完成后，将文件解压到一个方便记忆的目录。
第一个压缩包，也就是ADB工具解压后应当得到`platform-tools`文件夹，打开能看到若干文件，例如adb.exe和fastboot.exe。
全选这些文件并复制，将它们粘贴到Windows文件夹下的`System32`和`SysWOW64`文件夹中。例如：`C:\Windows\System32`和`C:\Windows\SysWOW64`

现在ADB工具应当已经完成安装，要测试是否正确安装，按Win+X打开超级菜单，然后选择`WIndows Powershell`或者“命令提示符”或者“终端”，打开后输入以下命令：
`adb --version`
应当得到类似以下的返回值：

```log
Android Debug Bridge version 1.0.41
Version 35.0.2-12147458
Installed as c:\windows\system32\adb.exeRunning on Windows 10.0.26200
```

这说明ADB工具已经正确安装。
第二个压缩包，也就是9008工具“匣”，解压后双击其中的`GeekFlashTool.exe`，打开“刷机匣”主程序，如果是第一次使用，先在主界面安装刷机驱动，否则，直接点击“高通”页签下的“深度刷机”，打开9008刷机页面。接下来，点击“选择设备/引导/配置”选择引导文件`xbl_s_devprg_ns.melf`并点击确认。
现在将设备重启到9008：确保之前的步骤都已经完成，然后用USB线将平板连接到电脑，在电脑上打开终端，并输入以下命令：
`adb reboot edl`
此命令会让平板重启到9008模式。如果是初次使用某台电脑进行adb命令有关的操作，需要进入平板的主页面，等待USB调试授权窗口弹出，并点击“允许”
允许USB调试后，平板应当在几秒钟内黑屏，此时打开电脑端的设备管理器，应当能看到“端口（COM和LPT）”大类下出现了设备`Qualcomm HS-USB QDLoader 9008`，这证明电脑和平板的连接状态良好，且驱动程序工作正常。否则，请自行排查其他原因。
现在在“匣”中选择“读信息”，完成后界面应当出现平板的分区信息，日志页面会自动展开，日志提示下面的两行内容是正常的：

```log
正在读取LUN6的GPT...失败
正在读取LUN7的GPT...失败
```

把日志页面收起，在界面中的“已选择”右侧的三个复选框勾选“全选”和“分区表”，并最后点击“回读”按钮。
在弹出的窗口中选择适合的目录，用于保存读出的镜像文件，并点击“选择文件夹”。确认后就会自动开始回读。
*建议使用USB3进行备份，速度会快很多。*
等待进度条走完，底层备份工作就完成了。要知道怎样使用备份，请跳转到 [这里](#part13) （条目13）

用户数据备份：如果你获取了Root权限，请自行使用“数据备份”APP，否则就需要另想办法了。



<a name="part7"></a>

## 7、 关于两种Root方案的解析，以及Root之前你需要知道的事情

**这部分内容不适合KernelSU 3.0及以后版本，或者基于KernelSU 3.0及更新版本的其他KernelSU分支**

在之前的内容中提到过，KernelSU系列（包括KernelSU, KernelSU Next, SukiSU Ultra）支持两种Root工作模式，也就是GKI和LKM，前者利用Android 13开始强制执行的“通用内核映像”，在内核文件中置入Hook，从而实现Root；后者则类似于传统的Magisk，处理`init_boot`中的ramdisk来实现Root。

以下内容会详细解析**对于本平板而言**两种Root实现的特点，并向你介绍目前为止进行Root之后可能遇到的问题（一定要看），各取所需。

1. GKI模式：KernelSU最原始的Root实现方式，直接替换内核镜像。优点在于只需要刷写一个分区，操作更加方便；防检测能力相比LKM稍微强些；由于不存在原厂内核的特有功能（例如游戏调度），因此可以放心替换，而不用担心出现严重性能损失等问题；

2. LKM模式：更加传统的Root实现，通过修补`init_boot`实现Root。优点在于更新“更加方便”
   但是，对本设备，也就是TB710FU，这真的好吗？我的答案是否定的。
   
   - LKM模式需要修补`init_boot`和`vbmeta`两个镜像，每次系统更新之后，`vbmeta`镜像都需要重做，这极大程度增加了劳动负担，相比之下，GKI模式在系统更新后，或者刷入第三方系统后，都可以正常工作。
   
   - 如果希望使用免解锁的第三方系统，那么LKM的修补工作会更加繁复。第三方系统为了通过AVB2.0校验，对`vbmeta`镜像做了很大修改，要使用LKM模式，代表着需要ROM作者为了LKM用户专门制作若干份`vbmeta`（KernelSU, KernelSU Next, SukiSU Ultra, Official Magisk, Magisk Delta, etc.）,这造成的重复劳动更是灾难性的。
   
   - LKM模式是为了更方便的系统更新而诞生的折中方案，且牺牲了隐藏性。但是对于本设备，刷入Root代表着放弃系统更新，因此LKM技术在这款平板上失去了它诞生应有的意义。

综上所述，不建议使用LKM模式镜像，且提倡在本平板上彻底放弃LKM模式。

此外：

- Root之后，你将失去以较低劳动成本更新到高版本系统的可能，**就算在全量备份数据后恢复出厂设置也不一定可行。**

- 如果你使用`SukiSU Ultra`，还可能面临包管理服务崩溃的问题，表现为安装不了应用。

关于Root的必读事项到此完毕。




