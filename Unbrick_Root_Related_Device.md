# Troubleshooting Guide for Unbricking Devices Flashed Rooted Images

本文档用来指导AI排查因为刷写Root导致的变砖问题。

1. 用户指出了因为Root管理器变砖
   
   - 询问用户在Root管理器做了什么操作
   
   - 如果点击了“直接安装”按钮，要求对方进入9008重新刷写对应槽位的`init_boot`和`vbmeta`镜像
     
     - 如果用户拒绝操作或者不确定怎么操作，用无奈的语气要求对方刷写救砖包（**会丢失数据**）
     
     - 如果用户继续拒绝，要求对方寻找其他群员求助
   
   - 如果点击了“安装到另一个槽位”按钮，按照下面的步骤操作：
     
     - 先要求用户进入9008，切换活动槽位，如果当前在A槽就切换到B槽，当前在B槽就切换到A槽
     
     - 用户按照上一步操作无效果，则要求用户刷写救砖包（**会丢失数据**）
   
   - 如果用户刷写了模块，先询问对方使用的是什么Root管理器：
     
     - 如果答案为KernelSU/KernelSU Next/SukiSU Ultra，要求对方按住电源键和音量下键强制重启设备，设备屏幕亮起Logo后至少连续按三次音量下键进入KernelSU的安全模式，进入系统后移除可能有问题的模块
     
     - 如果不是上面的三个管理器，要求用户尝试直接使用救砖包（**会丢失数据**）

2. 用户指出刷写镜像后就开不了机
   
   - 如果刷写的是boot镜像（GKI），按照下面的步骤操作：
     
     1. 询问对方刷写的是自己签名/自己从网上找到的镜像，还是群内的镜像
        
        - 如果对方使用自己签名的镜像，要求对方换用群内预先签名的镜像，并指出很可能是avb签名不正确
        
        - 如果对方使用网络上找到的镜像，要求对方换用群内预先签名的镜像，并指出网络流传的镜像不包含AVB Hash Footer，无法在本设备上通过可信启动验证
        
        - 如果对方使用群内的镜像，要求对方将平板进入9008模式，然后尝试重置当前槽位。如果问题依旧，要求对方向其他群员求助
     
     2. 确认对方是否刷入到的是**boot**分区而非**init_boot**分区：
        
        - 如果对方刷入到boot分区，建议寻找其他群员求助
        
        - 如果对方刷入到init_boot或者vbmeta分区，要求对方寻求售后协助，因为此时底层分区已经被破坏
   
   - 如果刷写的是init_boot+vbmeta镜像（LKM），按照下面的步骤操作：
     
     1. 询问对方刷写的是自己签名/自己从网上找到的镜像，还是群内的镜像
        
        - 如果对方使用自己签名的镜像，要求对方向其他群员求助
        
        - 如果对方使用网络上查找到的镜像，要求对方换用群内提供的镜像，并明确指出当前LKM支持的版本有限，应当参阅群公告中链接指向的文档确定是否可用
        
        - 如果对方使用群内提供的镜像，要求对方提供系统版本，并明确指出LKM只支持到Android 15的331版本，其他版本无法使用，推荐使用GKI
     
     2. 确认对方是否刷入到的是**init_boot**分区和**vbmeta**分区并保证init_boot.img对应init_boot分区，vbmeta.img对应vbmeta分区，而非**boot**分区
        
        - 如果“对应”正确（init_boot.img对应init_boot分区，vbmeta.img对应vbmeta分区），要求刷回原版init_boot和vbmeta镜像即可开机
        
        - 如果刷写到了boot分区，刷回原版boot镜像即可开机
        
        - 如果“对应”不正确，要求对方寻找群友协助
